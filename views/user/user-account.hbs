<!DOCTYPE html>
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="ie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--<![endif]-->
<html lang="en">


<!-- user-acount11:10-->

<head>
    <!-- Basic Page Needs -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Watch Store</title>

    <meta name="keywords" content="Furniture, Decor, Interior">
    <meta name="description" content="Furnitica - Minimalist Furniture HTML Template">
    <meta name="author" content="tivatheme">

    <!-- Mobile Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet">

    <!-- libs CSS -->
    <link rel="stylesheet" href="../user/libs/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../user/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../user/libs/nivo-slider/css/nivo-slider.css">
    <link rel="stylesheet" href="../user/libs/nivo-slider/css/animate.css">
    <link rel="stylesheet" href="../user/libs/nivo-slider/css/style.css">
    <link rel="stylesheet" href="../user/libs/font-material/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="../user/libs/slider-range/css/jslider.css">
    <link rel="stylesheet" href="../user/libs/owl-carousel/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="../user/libs/slick-slider/css/slick.css">
    <link rel="stylesheet" href="../user/libs/slick-slider/css/slick-theme.css">

    <!-- Template CSS -->
    <link rel="stylesheet" type="text/css" href="../user/css/style.css">
    <link rel="stylesheet" type="text/css" href="../user/css/reponsive.css">

    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="../../user/img/favicon-watch.png">

</head>

<body class="user-acount">
    <!-- header of the user -->
    {{> user_header}}

    <!-- main content -->
    <div class="main-content">
        <div class="wrap-banner">

            <!-- breadcrumb -->
            <nav class="breadcrumb-bg">
                <div class="container no-index">
                    <div class="breadcrumb">
                        <ol>
                            <li>
                                <a href="#">
                                    <span>Home</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>My Account</span>
                                </a>
                            </li>
                        </ol>
                    </div>
                </div>
            </nav>

            <div class="acount head-acount">
                <div class="container">
                    <div id="main">
                        <div class="container mt-5">
                            <div class="row">
                                <div class="col-md-4">
                                    <!-- User Profile Card -->
                                    <div class="card profile-card" style="background-color: rgb(117, 115, 115);">

                                        <div class="card-body" style="display: flex; ">

                                            <img class="ml-5" height="50px" width="50px" src="../user/userpro.png">

                                            <h5 class="card-title ml-4 mt-3"
                                                style="text-transform: uppercase;color: white;">{{username}}
                                            </h5>
                                        </div>
                                        <hr>
                                        <div class="card-body">
                                            {{#if userData}}
                                            <a href="/update-profile" style=" color: white;">Update Profile</a>
                                            {{else}}
                                            <a href="/add-address" style=" color: white;">Complete Profile</a>
                                            {{/if}}

                                        </div>
                                        <div class="card-body">
                                            <a href="#" style=" color: white;">Wallet Amount : </a>
                                            <span
                                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success"
                                                style="margin-left: 6%;">{{user.wallet}}</span>

                                        </div>
                                        <div class="card-body">
                                            <a href="/orderhistory" style=" color: white;">Order History</a>

                                        </div>

                                        <div class="card-body">
                                            <a href="/changePassword" style=" color: white;">Change Password</a>

                                        </div>
                                        <div class="card-body">
                                            <a href="/" style=" color: white;"> Continue Shopping</a>
                                        </div>
                                        <div class="card-body">
                                            <a href="/" style=" color: white;">Logout</a>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-8">
                                    <!-- User Details -->
                                    <div class="card user-details-card">
                                        <div class="card-body">
                                            <h5 class="card-title">User Details</h5>
                                            <ul class="list-group list-group-flush">

                                                <li class="list-group-item"><strong>Name:</strong> {{username}}
                                                <li class="list-group-item"><strong>UserName:</strong> {{userin}}
                                                <li class="list-group-item"><strong>Email:</strong> {{user.email}}
                                                </li>
                                                <li class="list-group-item"><strong>Phone:</strong> {{userData.phone}}
                                                </li>
                                                <li class="list-group-item"><strong>Address:</strong>
                                                    {{userData.address.houseName}},
                                                    {{userData.address.city}}</li>
                                                <li class="list-group-item"><strong>Pin Code:</strong>
                                                    {{userData.address.pincode}}</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <br>
                                    <!-- User Bio -->
                                    <div class="row">
                                        <div class="col-sm-6 mb-3 mb-sm-0 mt-2">
                                            <div class="card">
                                                <div class="card-body" style="height: 10%;">

                                                    <h5 class="card-title" style="margin-left: 45%;">+</h5>
                                                    <h6 class="card-subtitle mb-2 text-body-secondary"
                                                        style="margin-left: 25%;">
                                                        <!-- Button trigger modal -->
                                                        <button type="button" class="btn btn-primary"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal">
                                                            Add New Address
                                                        </button>

                                                        <!-- Modal -->
                                                        <div class="modal fade" id="exampleModal" tabindex="-1"
                                                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">
                                                                    <form action="/newAddress?username:{{userin}}"
                                                                        method="post" id="modelForm">
                                                                        <div class="modal-header">
                                                                            <h1 class="modal-title fs-5"
                                                                                id="exampleModalLabel">New Address</h1>
                                                                            <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                        </div>
                                                                        <div class="modal-body">

                                                                            <div class="form-group">
                                                                                <label for="fullName">Full Name:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="userFullName" name="fullname"
                                                                                    required
                                                                                    placeholder="Enter your full name"
                                                                                    onkeyup="validateName(this)">
                                                                                <span id="nameError"></span>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="fullName">Phone:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="phone" name="phone" required
                                                                                    placeholder="Enter your number"
                                                                                    onkeyup="validatePhone()">
                                                                                <span id="phoneError"></span>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="addressLine1">House
                                                                                    Name:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="house" name="house" required
                                                                                    placeholder="Enter your House Name"
                                                                                    onkeyup="validateHouse()">
                                                                                <span id="houseError"></span>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="addressLine1">City:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="city" name="city" required
                                                                                    placeholder="Enter your City"
                                                                                    onkeyup="validateCity()">
                                                                                <span id="cityError"></span>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="addressLine1">State:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="state" name="state" required
                                                                                    placeholder="Enter your State"
                                                                                    onkeyup="validateState()">
                                                                                <span id="stateError"></span>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label
                                                                                    for="addressLine1">Country:</label>
                                                                                <input type="text" class="form-control"
                                                                                    id="country" name="country" required
                                                                                    placeholder="Enter your Country"
                                                                                    onkeyup="validateCountry()">
                                                                                <span id="countryError"></span>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="zipCode" required>PIN
                                                                                    Code:</label>
                                                                                <input type="number"
                                                                                    class="form-control" id="pincode"
                                                                                    name="pincode" required
                                                                                    placeholder="Enter your PIN code"
                                                                                    onkeyup="validatePincode()">
                                                                                <span id="pincodeError"></span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                class="btn btn-secondary"
                                                                                data-bs-dismiss="modal">Close</button>
                                                                            <button type="submit"
                                                                                class="btn btn-primary">Save
                                                                                changes</button>
                                                                        </div>
                                                                    </form>
                                                                    {{!-- <span id="">Fill all the fileds</span> --}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </h6>
                                                    <p class="card-text"></p>
                                                    <a href="#" class="card-link"></a>
                                                    <a href="#" class="card-link"></a>
                                                </div>
                                            </div>
                                        </div>
                                        {{#each useraddress}}
                                        <div class="col-sm-6 mt-2">
                                            <div class="card">
                                                <div class="card-body">

                                                    <h5 class="card-title">Address</h5>
                                                    <h6 class="card-subtitle mb-2 text-body-secondary">
                                                        <strong>Name</strong> : {{this.fullname}}
                                                    </h6>
                                                    <p class="card-text"><strong>Phone</strong> : {{this.phone}}</p>
                                                    <p class="card-text"><strong>Address</strong> :
                                                        {{this.address.houseName}} , {{this.address.city}},
                                                        {{this.address.state}}
                                                        <br> {{this.address.country}}
                                                    </p>
                                                    <p class="card-text"><strong>PIN Code</strong> :
                                                        {{this.address.pincode}}</p>
                                                    <a href="/newAddressEdit?userid={{this._id}}"
                                                        class="card-link">Edit</a>
                                                    <a>|</a>
                                                    <a href="/removeAddress?userid={{this._id}}"
                                                        class="card-link" onclick="return confirm('Do you want to delete the address')">Remove</a>

                                                </div>
                                            </div>
                                        </div>
                                        {{/each}}
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- footer -->
        {{> user_footer}}

        <!-- back top top -->
        <div class="back-to-top">
            <a href="#">
                <i class="fa fa-long-arrow-up"></i>
            </a>
        </div>

        <!-- menu mobie left -->
        <div class="mobile-top-menu d-md-none">
            <button type="button" class="close" aria-label="Close">
                <i class="zmdi zmdi-close"></i>
            </button>
            <div class="tiva-verticalmenu block" data-count_showmore="17">
                <div class="box-content block-content">
                    <div class="verticalmenu" role="navigation">
                        <ul class="menu level1">
                            <li class="hasicon">
                                <i class="fa fa-home" aria-hidden="true"></i>
                                <a href="/" title="Home" style="margin-left: 10%;">
                                    Home</a>
                            </li>
                            <li class="item  parent">
                                <a href="#" class="hasicon" title="SIDE TABLE">
                                    <img src="../user/img/home/table-lamp.png" alt="img">Category</a>
                                <span class="arrow collapsed" data-toggle="collapse" data-target="#SIDE-TABLE"
                                    aria-expanded="false" role="status">
                                    <i class="zmdi zmdi-minus"></i>
                                    <i class="zmdi zmdi-plus"></i>
                                </span>
                                <div class="subCategory collapse" id="SIDE-TABLE" aria-expanded="true" role="status">
                                    <div class="menu-items">
                                        <ul>
                                            <li>
                                                <a href="/allproducts">All Products </a>
                                            </li>
                                            {{#each cat}}
                                            <li>
                                                <a href="/catproducts/{{this.name}}">{{this.name}}</a>

                                            </li>
                                            {{/each}}
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- menu mobie right -->
        <div id="mobile-pagemenu" class="mobile-boxpage d-flex hidden-md-up active d-md-none">
            <div class="content-boxpage col">
                <div class="box-header d-flex justify-content-between align-items-center">
                    <div class="title-box">Menu</div>
                    <div class="close-box">Close</div>
                </div>
                <div class="box-content">
                    <nav>
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div id="megamenu" class="clearfix">
                            <ul class="menu level1">
                                <li class="item home-page has-sub">
                                    <a href="/" title="Home">
                                        <i class="fa fa-home" aria-hidden="true"></i>Home</a>
                                </li>
                                <li class="item has-sub">
                                    <span class="arrow collapsed" data-toggle="collapse" data-target="#blog"
                                        aria-expanded="false" role="status">
                                        <i class="zmdi zmdi-minus"></i>
                                        <i class="zmdi zmdi-plus"></i>
                                    </span>
                                    <a href="#" title="Blog">
                                        <i class="fa fa-address-book" aria-hidden="true"></i>Account</a>

                                    <div class="subCategory collapse" id="blog" aria-expanded="true" role="status">
                                        <ul>
                                            {{#if userin}}
                                            <li class="item">
                                                <a href="/useraccount/{{userin}}" title="Blog List (Sidebar Left)">
                                                    {{userin}}
                                                </a>
                                            </li>
                                            <li class="item">
                                                <a href="/cart" title="Blog List (Sidebar Left) 2">Cart
                                                    <span
                                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                                                        {{#if cartCount}}
                                                        {{cartCount}}
                                                        {{else}}
                                                        0
                                                        {{/if}}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="item">
                                                <a href="/wishlist" title="Category Blog (Right column)">Wishlists
                                                    <span
                                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                                                        {{#if wishCount}}
                                                        {{wishCount}}
                                                        {{else}}
                                                        0
                                                        {{/if}}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="item">
                                                <a href="/orderhistory" title="Blog List (No Sidebar)">Order History</a>
                                            </li>
                                            <li class="item">
                                                <a href="/signout" title="Blog Grid (No Sidebar)">Log out</a>
                                            </li>
                                            {{else}}
                                            <li class="item">
                                                <a href="/login" title="Blog Detail">Log In</a>
                                            </li>
                                            <li class="item">
                                                <a href="/user-register" title="Blog Detail">Register Account</a>
                                            </li>
                                            {{/if}}
                                        </ul>
                                    </div>
                                </li>

                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Page Loader -->
        <div id="page-preloader">
            <div class="page-loading">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>

        


        <script>
            const nameError = document.getElementById('nameError')
            const phoneError = document.getElementById('phoneError')
            const houseError = document.getElementById('houseError')
            const cityError = document.getElementById('cityError')
            const stateError = document.getElementById('stateError')
            const countryError = document.getElementById('countryError')
            const pincodeError = document.getElementById('pincodeError')

            function validateName(name) {
                console.log(name.value, 'value of the validateName functions is here')
                const name = document.getElementById('userFullName').value
                console.log(name)
                if (name.length == 0) {
                    nameError.innerHTML = 'Enter the name'
                    nameError.style.color = 'red'
                    return false
                } else if (!name.match(/^[A-Za-z]+$/)) {
                    nameError.innerHTML = 'Only alphabets are allowed';
                    nameError.style.color = 'red';
                    return false;
                }
                nameError.innerHTML = ''
                return true
            }
            function validatePhone() {
                const phone = document.getElementById('phone').value
                if (phone.length == 0) {
                    phoneError.innerHTML = 'Enter the name'
                    phoneError.style.color = 'red'
                    return false
                }
                phoneError.innerHTML = ''
                return true
            }
            function validateHouse() {
                const house = document.getElementById('house').value
                if (house.length == 0) {
                    houseError.innerHTML = 'Enter the name'
                    houseError.style.color = 'red'
                    return false
                }
                houseError.innerHTML = ''
                return true
            }
            function validateCity() {
                const city = document.getElementById('city').value
                if (city.length == 0) {
                    cityError.innerHTML = 'Enter the name'
                    cityError.style.color = 'red'
                    return false
                }
                cityError.innerHTML = ''
                return true
            }
            function validateState() {
                const state = document.getElementById('state').value
                if (state.length == 0) {
                    stateError.innerHTML = 'Enter the name'
                    stateError.style.color = 'red'
                    return false
                }
                stateError.innerHTML = ''
                return true
            }
            function validateCountry() {
                const country = document.getElementById('country').value
                if (county.length == 0) {
                    countryError.innerHTML = 'Enter the name'
                    countryError.style.color = 'red'
                    return false
                }
                countryError.innerHTML = ''
                return true
            }
            function validatePincode() {
                console.log('validatePincode function is called!!')
                const pincode = document.getElementById('pincode').value
                if (pincode.length == 0) {
                    pincodeError.innerHTML = 'Enter the name'
                    pincodeError.style.color = 'red'
                    return false
                } else if (!name.match(/^[0-9]/{ 6})) {
                    phoneError.innerHTML = 'Enter numbers only'
                    phoneError.style.color = 'red'
                    return false
                }
                pincodeError.innerHTML = ''
                return true
            }


        </script>
        <!-- Vendor JS -->
        <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../user/libs/jquery/jquery.min.js"></script>
        <script src="../user/libs/popper/popper.min.js"></script>
        <script src="../user/libs/bootstrap/js/bootstrap.min.js"></script>
        <script src="../user/libs/nivo-slider/js/jquery.nivo.slider.js"></script>
        <script src="../user/libs/owl-carousel/owl.carousel.min.js"></script>
        <script src="../user/libs/slider-range/js/tmpl.js"></script>
        <script src="../user/libs/slider-range/js/jquery.dependClass-0.1.js"></script>
        <script src="../user/libs/slider-range/js/draggable-0.1.js"></script>
        <script src="../user/libs/slider-range/js/jquery.slider.js"></script>
        <script src="../user/libs/slick-slider/js/slick.min.js"></script>

        <!-- Template JS -->
        <script src="../user/js/theme.js"></script>
</body>


<!-- user-acount11:10-->

</html>